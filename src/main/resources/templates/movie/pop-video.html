<div class="container">
    <h1>Play YouTube or Vimeo Videos in Bootstrap 4 Modal</h1>


    <!-- Button trigger modal -->
    <button class="btn btn-primary video-btn" data-src="https://www.youtube.com/embed/Jfrjeg26Cwk"
            data-target="#myModal" data-toggle="modal" type="button">
        Play Video 1 - autoplay
    </button>

    <!-- Button trigger modal -->
    <button class="btn btn-primary video-btn" data-src="https://www.youtube.com/embed/IP7uGKgJL8U"
            data-target="#myModal" data-toggle="modal" type="button">
        Play Video 2
    </button>


    <!-- Button trigger modal -->
    <button class="btn btn-primary video-btn" data-src="https://www.youtube.com/embed/A-twOC3W558"
            data-target="#myModal" data-toggle="modal" type="button">
        Play Video 3
    </button>


    <!-- Button trigger modal -->
    <button class="btn btn-primary video-btn" data-src="https://player.vimeo.com/video/58385453?badge=0"
            data-target="#myModal" data-toggle="modal" type="button">
        Play Vimeo Video
    </button>

    <!-- Modal -->
    <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="myModal" role="dialog"
         tabindex="-1">
        <div class="modal-dialog" role="document">
            <div class="modal-content">


                <div class="modal-body">

                    <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <!-- 16:9 aspect ratio -->
                    <div class="embed-responsive embed-responsive-16by9">
                        <iframe allow="autoplay" allowscriptaccess="always" class="embed-responsive-item" id="video"
                                src=""></iframe>
                    </div>


                </div>

            </div>
        </div>
    </div>


</div>

body {margin:2rem;}

.modal-dialog {
max-width: 800px;
margin: 30px auto;
}


.modal-body {
position:relative;
padding:0px;
}
.close {
position:absolute;
right:-30px;
top:0;
z-index:999;
font-size:2rem;
font-weight: normal;
color:#fff;
opacity:1;
}


$(document).ready(function() {

// Gets the video src from the data-src on each button

var $videoSrc;
$('.video-btn').click(function() {
$videoSrc = $(this).data( "src" );
});
console.log($videoSrc);


// when the modal is opened autoplay it
$('#myModal').on('shown.bs.modal', function (e) {

// set the video src to autoplay and not to show related video. Youtube related video is like a box of chocolates... you never know what you're gonna get
$("#video").attr('src',$videoSrc + "?autoplay=1&amp;modestbranding=1&amp;showinfo=0" );
})


// stop playing the youtube video when I close the modal
$('#myModal').on('hide.bs.modal', function (e) {
// a poor man's stop video
$("#video").attr('src',$videoSrc);
})


// document ready
});



